# Round 3: Entity Properties Duplicate Columns Error

## 错误描述
测试运行时出现数据库列重复定义错误：
```
E: column "use_can_5" specified more than once
```

以及其他相关问题：
1. 床位创建失败 - 期望4个床位但得到0个
2. 用户关系和计算属性问题
3. 扣分计算不工作

## 问题分析

### 主要问题：重复列定义
**原因**: User实体中的`canBeKickedOut`属性(映射为use_can_5列)被多次定义。

**可能原因**:
1. 在User实体定义中重复添加了属性
2. 在实体创建后通过`User.properties.push()`又添加了同样的属性
3. 计算属性与普通属性名称冲突

### 次要问题：关系和计算不工作
1. **床位创建失败**: DormitoryBedRelation没有正确建立，导致床位查询失败
2. **扣分计算失败**: UserScoreRelation和Summation计算没有正确工作
3. **实体间关系错误**: 各种关系的创建和查询有问题

## 根本原因分析

查看代码结构发现问题：
1. User实体已经定义了`canBeKickedOut`属性
2. 后面又通过`User.properties.push()`添加了`totalScore`属性
3. 但没有重复添加`canBeKickedOut`，所以问题可能在其他地方

可能的问题：
- 关系属性和实体属性名称冲突
- 计算依赖的关系还没有正确建立
- Transform和StateMachine定义有循环依赖

## 修复策略

### 方案1：简化实体定义
- 移除复杂的计算属性
- 先确保基本的实体创建和关系建立工作
- 逐步添加计算功能

### 方案2：重新组织代码结构
- 确保所有基础实体先定义完成
- 然后定义关系
- 最后添加计算属性

### 方案3：调试具体问题
- 单独测试每个实体的创建
- 检查关系的建立
- 验证计算属性的依赖

## 立即修复计划

1. 检查并移除重复的属性定义
2. 简化User实体，移除计算属性
3. 确保基本的CRUD操作先工作
4. 逐步恢复计算功能

## 当前状态
- [ ] 识别并修复重复列问题
- [ ] 简化实体定义
- [ ] 测试基本实体创建
- [ ] 验证关系建立
- [ ] 恢复计算属性