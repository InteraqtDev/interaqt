# å®¿èˆç®¡ç†ç³»ç»Ÿæµ‹è¯•ç”¨ä¾‹

## æµ‹è¯•ç­–ç•¥

æœ¬æ–‡æ¡£æŒ‰ç…§æ¸è¿›å¼å®æ–½ç­–ç•¥ç»„ç»‡æµ‹è¯•ç”¨ä¾‹ï¼š
1. **Stage 1 - Core Business Logic Tests**ï¼šæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•
2. **Stage 2 - Permission Tests**ï¼šæƒé™æ§åˆ¶æµ‹è¯•  
3. **Stage 2 - Business Rule Tests**ï¼šä¸šåŠ¡è§„åˆ™éªŒè¯æµ‹è¯•

ğŸ”´ **é‡è¦æç¤º**ï¼šæ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å¿…é¡»é€šè¿‡ Interactions è¿›è¡Œï¼Œä¸å¾—ç›´æ¥æ“ä½œ storageï¼

---

## Stage 1: Core Business Logic Testsï¼ˆæ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•ï¼‰

### TC001: åˆ›å»ºå®¿èˆ
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: ç®¡ç†å‘˜å·²ç™»å½•
- **è¾“å…¥æ•°æ®**: 
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: { 
      name: 'Aæ ‹301', 
      capacity: 4 
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. æˆåŠŸåˆ›å»ºå®¿èˆè®°å½•
  2. å®¿èˆåç§°ä¸º 'Aæ ‹301'
  3. å®¿èˆå®¹é‡ä¸º 4
  4. å®¿èˆçŠ¶æ€ä¸º 'active'
  5. è‡ªåŠ¨åˆ›å»º 4 ä¸ªåºŠä½ï¼ˆç¼–å· 1-4ï¼‰
  6. æ‰€æœ‰åºŠä½çŠ¶æ€ä¸º 'available'
- **åç½®éªŒè¯**: é€šè¿‡æŸ¥è¯¢ç¡®è®¤å®¿èˆå’ŒåºŠä½éƒ½å·²åˆ›å»º

### TC002: åˆ†é…ç”¨æˆ·åˆ°å®¿èˆ
- **Interaction**: AssignUserToDormitory
- **å‰ç½®æ¡ä»¶**: 
  - ç®¡ç†å‘˜å·²ç™»å½•
  - å­˜åœ¨å®¿èˆ 'Aæ ‹301'ï¼ˆ4ä¸ªåºŠä½ï¼‰
  - å­˜åœ¨å­¦ç”Ÿç”¨æˆ· 'student1'
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'student1',
      dormitoryId: 'dorm-1'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. æˆåŠŸå»ºç«‹ç”¨æˆ·ä¸å®¿èˆçš„å…³ç³»
  2. ç”¨æˆ·è¢«åˆ†é…åˆ°ç¬¬ä¸€ä¸ªå¯ç”¨åºŠä½ï¼ˆåºŠä½1ï¼‰
  3. åºŠä½1çŠ¶æ€å˜ä¸º 'occupied'
  4. å®¿èˆçš„ occupiedBeds è®¡æ•°ä¸º 1
  5. å®¿èˆçš„ availableBeds è®¡æ•°ä¸º 3
- **åç½®éªŒè¯**: ç”¨æˆ·æŸ¥è¯¢æ˜¾ç¤ºå·²åˆ†é…å®¿èˆå’ŒåºŠä½

### TC003: æŒ‡å®šå®¿èˆé•¿
- **Interaction**: AssignDormHead
- **å‰ç½®æ¡ä»¶**:
  - ç®¡ç†å‘˜å·²ç™»å½•
  - å­˜åœ¨å®¿èˆ 'Aæ ‹301'
  - å­˜åœ¨å·²åˆ†é…åˆ°è¯¥å®¿èˆçš„ç”¨æˆ· 'student1'
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'student1',
      dormitoryId: 'dorm-1'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. ç”¨æˆ·è§’è‰²æ›´æ–°ä¸º 'dormHead'
  2. å»ºç«‹å®¿èˆä¸å®¿èˆé•¿çš„å…³ç³»
  3. è®°å½•ä»»å‘½æ—¶é—´æˆ³
  4. å®¿èˆçš„ dormHead å±æ€§æŒ‡å‘è¯¥ç”¨æˆ·
- **åç½®éªŒè¯**: å®¿èˆæŸ¥è¯¢æ˜¾ç¤ºæœ‰å®¿èˆé•¿

### TC004: è®°å½•è¿è§„
- **Interaction**: RecordViolation
- **å‰ç½®æ¡ä»¶**:
  - å®¿èˆé•¿å·²ç™»å½•ï¼ˆstudent1ï¼‰
  - å­˜åœ¨åŒå®¿èˆçš„å…¶ä»–å­¦ç”Ÿï¼ˆstudent2ï¼‰
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'student2',
      reason: 'æ™šå½’',
      score: 5
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. åˆ›å»ºè¿è§„è®°å½•
  2. è¿è§„åŸå› ä¸º 'æ™šå½’'
  3. æ‰£åˆ†å€¼ä¸º 5
  4. ç”¨æˆ·ç´¯è®¡è¿è§„åˆ†æ•°å¢åŠ  5
  5. ç”¨æˆ·è¿è§„æ¬¡æ•°å¢åŠ  1
  6. è®°å½•åˆ›å»ºæ—¶é—´æˆ³
- **åç½®éªŒè¯**: ç”¨æˆ·çš„ violationScore ä¸º 5

### TC005: å¤šæ¬¡è¿è§„ç´¯è®¡
- **Interaction**: RecordViolationï¼ˆå¤šæ¬¡è°ƒç”¨ï¼‰
- **å‰ç½®æ¡ä»¶**:
  - å®¿èˆé•¿å·²ç™»å½•
  - student2 å·²æœ‰ 5 åˆ†è¿è§„è®°å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  // ç¬¬äºŒæ¬¡è¿è§„
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'student2',
      reason: 'è¿è§„ä½¿ç”¨ç”µå™¨',
      score: 10
    }
  }
  // ç¬¬ä¸‰æ¬¡è¿è§„
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'student2',
      reason: 'æ‰“æ¶æ–—æ®´',
      score: 10
    }
  }
  // ç¬¬å››æ¬¡è¿è§„
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'student2',
      reason: 'ç ´åå…¬ç‰©',
      score: 8
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. åˆ›å»º 3 æ¡æ–°çš„è¿è§„è®°å½•
  2. ç”¨æˆ·ç´¯è®¡è¿è§„åˆ†æ•°ä¸º 33 (5+10+10+8)
  3. ç”¨æˆ·è¿è§„æ¬¡æ•°ä¸º 4
  4. ç”¨æˆ· canBeEvicted å±æ€§ä¸º trueï¼ˆåˆ†æ•°â‰¥30ï¼‰
- **åç½®éªŒè¯**: è¿è§„è®°å½•æŸ¥è¯¢æ˜¾ç¤º 4 æ¡è®°å½•

### TC006: ç”³è¯·è¸¢å‡ºç”¨æˆ·
- **Interaction**: RequestEviction
- **å‰ç½®æ¡ä»¶**:
  - å®¿èˆé•¿å·²ç™»å½•
  - student2 ç´¯è®¡è¿è§„åˆ†æ•°ä¸º 33ï¼ˆâ‰¥30ï¼‰
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'student2',
      reason: 'å¤šæ¬¡ä¸¥é‡è¿è§„ï¼Œç´¯è®¡æ‰£åˆ†è¶…è¿‡30åˆ†'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. åˆ›å»ºè¸¢å‡ºç”³è¯·è®°å½•
  2. ç”³è¯·çŠ¶æ€ä¸º 'pending'
  3. è®°å½•ç”³è¯·ç†ç”±
  4. è®°å½•ç”³è¯·æ—¶é—´æˆ³
  5. å…³è”ç”³è¯·äººï¼ˆå®¿èˆé•¿ï¼‰å’Œç›®æ ‡ç”¨æˆ·
- **åç½®éªŒè¯**: ç”³è¯·æŸ¥è¯¢æ˜¾ç¤ºçŠ¶æ€ä¸º pending

### TC007: æ‰¹å‡†è¸¢å‡ºç”³è¯·
- **Interaction**: ApproveEviction
- **å‰ç½®æ¡ä»¶**:
  - ç®¡ç†å‘˜å·²ç™»å½•
  - å­˜åœ¨ pending çŠ¶æ€çš„è¸¢å‡ºç”³è¯·
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      requestId: 'eviction-1',
      comment: 'æƒ…å†µå±å®ï¼Œæ‰¹å‡†è¸¢å‡º'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. ç”³è¯·çŠ¶æ€æ›´æ–°ä¸º 'approved'
  2. è®°å½•ç®¡ç†å‘˜å¤„ç†æ„è§
  3. è®°å½•å¤„ç†æ—¶é—´æˆ³
  4. ç”¨æˆ·çŠ¶æ€æ›´æ–°ä¸º 'evicted'
  5. é‡Šæ”¾ç”¨æˆ·å ç”¨çš„åºŠä½ï¼ˆçŠ¶æ€å˜ä¸º 'available'ï¼‰
  6. è§£é™¤ç”¨æˆ·ä¸å®¿èˆçš„å…³ç³»
  7. è§£é™¤ç”¨æˆ·ä¸åºŠä½çš„å…³ç³»
  8. å®¿èˆ occupiedBeds å‡ 1
- **åç½®éªŒè¯**: 
  - ç”¨æˆ·çŠ¶æ€ä¸º evicted
  - ç”¨æˆ·æ— å®¿èˆå…³è”
  - åŸåºŠä½çŠ¶æ€ä¸º available

### TC008: æ‹’ç»è¸¢å‡ºç”³è¯·
- **Interaction**: RejectEviction
- **å‰ç½®æ¡ä»¶**:
  - ç®¡ç†å‘˜å·²ç™»å½•
  - å­˜åœ¨å¦ä¸€ä¸ª pending çŠ¶æ€çš„è¸¢å‡ºç”³è¯·ï¼ˆé’ˆå¯¹ student3ï¼‰
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      requestId: 'eviction-2',
      comment: 'åˆçŠ¯ï¼Œç»™äºˆè­¦å‘Šå³å¯'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. ç”³è¯·çŠ¶æ€æ›´æ–°ä¸º 'rejected'
  2. è®°å½•ç®¡ç†å‘˜å¤„ç†æ„è§
  3. è®°å½•å¤„ç†æ—¶é—´æˆ³
  4. ç”¨æˆ·çŠ¶æ€ä¿æŒä¸å˜ï¼ˆä»ä¸º 'active'ï¼‰
  5. ç”¨æˆ·ä»ä¿ç•™å®¿èˆå’ŒåºŠä½å…³ç³»
- **åç½®éªŒè¯**: 
  - ç”³è¯·çŠ¶æ€ä¸º rejected
  - ç”¨æˆ·ä»åœ¨å®¿èˆä¸­

### TC009: æ»¡å‘˜å®¿èˆæµ‹è¯•
- **Interaction**: AssignUserToDormitoryï¼ˆå¤šæ¬¡è°ƒç”¨ï¼‰
- **å‰ç½®æ¡ä»¶**:
  - åˆ›å»ºå®¹é‡ä¸º 4 çš„å®¿èˆ
  - æœ‰ 4 ä¸ªå¾…åˆ†é…çš„å­¦ç”Ÿ
- **è¾“å…¥æ•°æ®**: åˆ†åˆ«åˆ†é… 4 ä¸ªå­¦ç”Ÿ
- **é¢„æœŸç»“æœ**:
  1. 4 ä¸ªå­¦ç”Ÿéƒ½æˆåŠŸåˆ†é…
  2. 4 ä¸ªåºŠä½éƒ½å˜ä¸º 'occupied'
  3. occupiedBeds = 4
  4. availableBeds = 0
  5. occupancyRate = 100%
- **åç½®éªŒè¯**: å®¿èˆå·²æ»¡å‘˜

### TC010: å®¿èˆå®¹é‡è¾¹ç•Œæµ‹è¯•
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: ç®¡ç†å‘˜å·²ç™»å½•
- **æµ‹è¯•æ•°æ®**:
  - å®¹é‡ 4ï¼šæœ€å°å€¼
  - å®¹é‡ 5ï¼šä¸­é—´å€¼
  - å®¹é‡ 6ï¼šæœ€å¤§å€¼
- **é¢„æœŸç»“æœ**: 
  1. ä¸‰ä¸ªå®¿èˆéƒ½åˆ›å»ºæˆåŠŸ
  2. åˆ†åˆ«åˆ›å»º 4ã€5ã€6 ä¸ªåºŠä½
  3. åºŠä½ç¼–å·æ­£ç¡®ï¼ˆ1-4ã€1-5ã€1-6ï¼‰
- **åç½®éªŒè¯**: åºŠä½æ•°é‡ä¸å®¹é‡ä¸€è‡´

---

## Stage 2: Permission Testsï¼ˆæƒé™æ§åˆ¶æµ‹è¯•ï¼‰

### TC011: éç®¡ç†å‘˜åˆ›å»ºå®¿èˆï¼ˆæƒé™æ‹’ç»ï¼‰
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: å®¿èˆé•¿ç”¨æˆ·ç™»å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: { name: 'Bæ ‹201', capacity: 4 }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ç±»å‹ä¸ºæƒé™ä¸è¶³
  3. æ²¡æœ‰åˆ›å»ºå®¿èˆè®°å½•
- **åç½®éªŒè¯**: å®¿èˆæŸ¥è¯¢ä¸å­˜åœ¨ 'Bæ ‹201'

### TC012: æ™®é€šç”¨æˆ·è®°å½•è¿è§„ï¼ˆæƒé™æ‹’ç»ï¼‰
- **Interaction**: RecordViolation
- **å‰ç½®æ¡ä»¶**: æ™®é€šå­¦ç”Ÿç”¨æˆ·ç™»å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student3', role: 'student' },
    payload: {
      userId: 'student4',
      reason: 'æµ‹è¯•è¿è§„',
      score: 5
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ç±»å‹ä¸ºæƒé™ä¸è¶³
  3. æ²¡æœ‰åˆ›å»ºè¿è§„è®°å½•
- **åç½®éªŒè¯**: ç›®æ ‡ç”¨æˆ·è¿è§„åˆ†æ•°ä¸å˜

### TC013: å®¿èˆé•¿è®°å½•å…¶ä»–å®¿èˆæˆå‘˜è¿è§„ï¼ˆæƒé™æ‹’ç»ï¼‰
- **Interaction**: RecordViolation
- **å‰ç½®æ¡ä»¶**: 
  - Aæ ‹å®¿èˆé•¿ç™»å½•
  - ç›®æ ‡ç”¨æˆ·åœ¨Bæ ‹
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'dormHeadA', role: 'dormHead' },
    payload: {
      userId: 'studentInDormB',
      reason: 'è·¨å®¿èˆè®°å½•',
      score: 5
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºåªèƒ½ç®¡ç†æœ¬å®¿èˆ
  3. æ²¡æœ‰åˆ›å»ºè¿è§„è®°å½•
- **åç½®éªŒè¯**: ç›®æ ‡ç”¨æˆ·æ— æ–°å¢è¿è§„

### TC014: éç®¡ç†å‘˜å®¡æ‰¹è¸¢å‡ºç”³è¯·ï¼ˆæƒé™æ‹’ç»ï¼‰
- **Interaction**: ApproveEviction
- **å‰ç½®æ¡ä»¶**: 
  - å®¿èˆé•¿ç”¨æˆ·ç™»å½•
  - å­˜åœ¨ pending ç”³è¯·
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      requestId: 'eviction-3',
      comment: 'æ‰¹å‡†'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ç±»å‹ä¸ºæƒé™ä¸è¶³
  3. ç”³è¯·çŠ¶æ€ä¿æŒ pending
- **åç½®éªŒè¯**: ç”³è¯·çŠ¶æ€æœªæ”¹å˜

### TC015: éç®¡ç†å‘˜åˆ†é…ç”¨æˆ·åˆ°å®¿èˆï¼ˆæƒé™æ‹’ç»ï¼‰
- **Interaction**: AssignUserToDormitory
- **å‰ç½®æ¡ä»¶**: å®¿èˆé•¿ç”¨æˆ·ç™»å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'student1', role: 'dormHead' },
    payload: {
      userId: 'newStudent',
      dormitoryId: 'dorm-1'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ç±»å‹ä¸ºæƒé™ä¸è¶³
  3. ç”¨æˆ·æœªè¢«åˆ†é…
- **åç½®éªŒè¯**: ç”¨æˆ·æ— å®¿èˆå…³è”

---

## Stage 2: Business Rule Testsï¼ˆä¸šåŠ¡è§„åˆ™æµ‹è¯•ï¼‰

### TC016: åˆ›å»ºå®¹é‡è¶…é™çš„å®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: ç®¡ç†å‘˜å·²ç™»å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: { 
      name: 'Cæ ‹101', 
      capacity: 10  // è¶…è¿‡æœ€å¤§å€¼6
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºå®¹é‡å¿…é¡»åœ¨4-6ä¹‹é—´
  3. æ²¡æœ‰åˆ›å»ºå®¿èˆ
- **åç½®éªŒè¯**: å®¿èˆä¸å­˜åœ¨

### TC017: åˆ›å»ºå®¹é‡è¿‡å°çš„å®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: ç®¡ç†å‘˜å·²ç™»å½•
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: { 
      name: 'Cæ ‹102', 
      capacity: 2  // å°äºæœ€å°å€¼4
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºå®¹é‡å¿…é¡»åœ¨4-6ä¹‹é—´
  3. æ²¡æœ‰åˆ›å»ºå®¿èˆ
- **åç½®éªŒè¯**: å®¿èˆä¸å­˜åœ¨

### TC018: é‡å¤åˆ†é…ç”¨æˆ·åˆ°å®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: AssignUserToDormitory
- **å‰ç½®æ¡ä»¶**: 
  - ç”¨æˆ·å·²åˆ†é…åˆ°å®¿èˆA
  - å°è¯•åˆ†é…åˆ°å®¿èˆB
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'student1',
      dormitoryId: 'dorm-2'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºç”¨æˆ·å·²æœ‰å®¿èˆ
  3. ç”¨æˆ·ä¿æŒåŸå®¿èˆä¸å˜
- **åç½®éªŒè¯**: ç”¨æˆ·ä»åœ¨åŸå®¿èˆ

### TC019: åˆ†é…ç”¨æˆ·åˆ°æ»¡å‘˜å®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: AssignUserToDormitory
- **å‰ç½®æ¡ä»¶**: 
  - å®¿èˆå·²æ»¡å‘˜ï¼ˆ4/4ï¼‰
  - æœ‰æ–°ç”¨æˆ·å¾…åˆ†é…
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'newStudent',
      dormitoryId: 'full-dorm'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºå®¿èˆå·²æ»¡
  3. ç”¨æˆ·æœªè¢«åˆ†é…
- **åç½®éªŒè¯**: å®¿èˆä»ä¸ºæ»¡å‘˜çŠ¶æ€

### TC020: ç”³è¯·è¸¢å‡ºè¿è§„åˆ†æ•°ä¸è¶³çš„ç”¨æˆ·ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: RequestEviction
- **å‰ç½®æ¡ä»¶**: 
  - ç”¨æˆ·è¿è§„åˆ†æ•°ä¸º 20ï¼ˆ< 30ï¼‰
  - å®¿èˆé•¿å°è¯•ç”³è¯·è¸¢å‡º
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'dormHead1', role: 'dormHead' },
    payload: {
      userId: 'lowScoreStudent',
      reason: 'å°è¯•è¸¢å‡º'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºè¿è§„åˆ†æ•°ä¸è¶³30åˆ†
  3. æ²¡æœ‰åˆ›å»ºè¸¢å‡ºç”³è¯·
- **åç½®éªŒè¯**: æ— æ–°çš„è¸¢å‡ºç”³è¯·è®°å½•

### TC021: å®¿èˆé•¿è®°å½•è‡ªå·±çš„è¿è§„ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: RecordViolation
- **å‰ç½®æ¡ä»¶**: å®¿èˆé•¿å°è¯•è®°å½•è‡ªå·±
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'dormHead1', role: 'dormHead' },
    payload: {
      userId: 'dormHead1',  // è‡ªå·±
      reason: 'è‡ªæˆ‘è¿è§„',
      score: 5
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºä¸èƒ½è®°å½•è‡ªå·±
  3. æ²¡æœ‰åˆ›å»ºè¿è§„è®°å½•
- **åç½®éªŒè¯**: å®¿èˆé•¿è¿è§„åˆ†æ•°ä¸å˜

### TC022: å®¿èˆé•¿ç”³è¯·è¸¢å‡ºè‡ªå·±ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: RequestEviction
- **å‰ç½®æ¡ä»¶**: å®¿èˆé•¿è¿è§„åˆ†æ•°â‰¥30
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'dormHead1', role: 'dormHead' },
    payload: {
      userId: 'dormHead1',  // è‡ªå·±
      reason: 'è‡ªæˆ‘è¸¢å‡º'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºä¸èƒ½ç”³è¯·è¸¢å‡ºè‡ªå·±
  3. æ²¡æœ‰åˆ›å»ºè¸¢å‡ºç”³è¯·
- **åç½®éªŒè¯**: æ— æ–°çš„è¸¢å‡ºç”³è¯·

### TC023: æŒ‡å®šéæœ¬å®¿èˆæˆå‘˜ä¸ºå®¿èˆé•¿ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: AssignDormHead
- **å‰ç½®æ¡ä»¶**: 
  - ç”¨æˆ·Aåœ¨å®¿èˆ1
  - å°è¯•æŒ‡å®šä¸ºå®¿èˆ2çš„å®¿èˆé•¿
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'userInDorm1',
      dormitoryId: 'dorm-2'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºå¿…é¡»æ˜¯æœ¬å®¿èˆæˆå‘˜
  3. ä¸å»ºç«‹å®¿èˆé•¿å…³ç³»
- **åç½®éªŒè¯**: å®¿èˆ2æ— å®¿èˆé•¿

### TC024: åˆ†é…è¢«è¸¢å‡ºçš„ç”¨æˆ·åˆ°å®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: AssignUserToDormitory
- **å‰ç½®æ¡ä»¶**: ç”¨æˆ·çŠ¶æ€ä¸º evicted
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      userId: 'evictedUser',
      dormitoryId: 'dorm-3'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºç”¨æˆ·å·²è¢«è¸¢å‡º
  3. ç”¨æˆ·æœªè¢«åˆ†é…
- **åç½®éªŒè¯**: ç”¨æˆ·æ— å®¿èˆå…³è”

### TC025: è¿è§„æ‰£åˆ†è¶…é™ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: RecordViolation
- **å‰ç½®æ¡ä»¶**: å®¿èˆé•¿è®°å½•è¿è§„
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'dormHead1', role: 'dormHead' },
    payload: {
      userId: 'student5',
      reason: 'ä¸¥é‡è¿è§„',
      score: 15  // è¶…è¿‡æœ€å¤§å€¼10
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºæ‰£åˆ†å¿…é¡»åœ¨1-10ä¹‹é—´
  3. æ²¡æœ‰åˆ›å»ºè¿è§„è®°å½•
- **åç½®éªŒè¯**: ç”¨æˆ·è¿è§„åˆ†æ•°ä¸å˜

### TC026: åˆ›å»ºé‡åå®¿èˆï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: CreateDormitory
- **å‰ç½®æ¡ä»¶**: 
  - å·²å­˜åœ¨å®¿èˆ 'Aæ ‹301'
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: { 
      name: 'Aæ ‹301',  // é‡å¤åç§°
      capacity: 5
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºå®¿èˆåç§°å·²å­˜åœ¨
  3. æ²¡æœ‰åˆ›å»ºæ–°å®¿èˆ
- **åç½®éªŒè¯**: åªæœ‰ä¸€ä¸ªåä¸º 'Aæ ‹301' çš„å®¿èˆ

### TC027: å¤„ç†å·²å¤„ç†çš„è¸¢å‡ºç”³è¯·ï¼ˆä¸šåŠ¡è§„åˆ™ï¼‰
- **Interaction**: ApproveEviction
- **å‰ç½®æ¡ä»¶**: ç”³è¯·å·²è¢«æ‰¹å‡†ï¼ˆçŠ¶æ€ä¸º approvedï¼‰
- **è¾“å…¥æ•°æ®**:
  ```javascript
  {
    user: { id: 'admin-1', role: 'admin' },
    payload: {
      requestId: 'processed-eviction',
      comment: 'é‡å¤æ‰¹å‡†'
    }
  }
  ```
- **é¢„æœŸç»“æœ**:
  1. Interaction è¿”å›é”™è¯¯
  2. é”™è¯¯ä¿¡æ¯æç¤ºç”³è¯·å·²å¤„ç†
  3. ç”³è¯·çŠ¶æ€ä¿æŒä¸å˜
- **åç½®éªŒè¯**: ç”³è¯·ä»ä¸º approved çŠ¶æ€

---

## å¤æ‚åœºæ™¯æµ‹è¯•

### TC028: å®Œæ•´ä¸šåŠ¡æµç¨‹æµ‹è¯•
- **æµ‹è¯•æµç¨‹**:
  1. ç®¡ç†å‘˜åˆ›å»ºå®¿èˆï¼ˆå®¹é‡4ï¼‰
  2. ç®¡ç†å‘˜åˆ†é…4ä¸ªå­¦ç”Ÿ
  3. ç®¡ç†å‘˜æŒ‡å®šç¬¬1ä¸ªå­¦ç”Ÿä¸ºå®¿èˆé•¿
  4. å®¿èˆé•¿è®°å½•ç¬¬2ä¸ªå­¦ç”Ÿå¤šæ¬¡è¿è§„ï¼ˆç´¯è®¡35åˆ†ï¼‰
  5. å®¿èˆé•¿ç”³è¯·è¸¢å‡ºç¬¬2ä¸ªå­¦ç”Ÿ
  6. ç®¡ç†å‘˜æ‰¹å‡†è¸¢å‡º
  7. ç®¡ç†å‘˜åˆ†é…æ–°å­¦ç”Ÿåˆ°ç©ºå‡ºçš„åºŠä½
- **é¢„æœŸç»“æœ**: æ¯æ­¥éƒ½æˆåŠŸæ‰§è¡Œï¼Œæœ€ç»ˆå®¿èˆä»ä¸ºæ»¡å‘˜

### TC029: å¹¶å‘åˆ†é…æµ‹è¯•
- **æµ‹è¯•åœºæ™¯**: æ¨¡æ‹Ÿä¸¤ä¸ªç®¡ç†å‘˜åŒæ—¶åˆ†é…ä¸åŒç”¨æˆ·åˆ°åŒä¸€åºŠä½
- **é¢„æœŸç»“æœ**: åªæœ‰ä¸€ä¸ªåˆ†é…æˆåŠŸï¼Œå¦ä¸€ä¸ªå¤±è´¥

### TC030: æ‰¹é‡æ“ä½œæµ‹è¯•
- **æµ‹è¯•åœºæ™¯**: 
  1. æ‰¹é‡åˆ›å»º10ä¸ªå®¿èˆ
  2. æ‰¹é‡åˆ†é…40ä¸ªç”¨æˆ·
  3. æ‰¹é‡è®°å½•è¿è§„
- **é¢„æœŸç»“æœ**: æ‰€æœ‰æ“ä½œæ­£ç¡®æ‰§è¡Œï¼Œæ•°æ®ä¸€è‡´

---

## æµ‹è¯•æ•°æ®å‡†å¤‡

### åŸºç¡€æµ‹è¯•æ•°æ®
```javascript
// ç”¨æˆ·æ•°æ®
const testUsers = {
  admin1: { id: 'admin-1', name: 'ç³»ç»Ÿç®¡ç†å‘˜', email: 'admin@test.com', role: 'admin' },
  dormHead1: { id: 'dorm-head-1', name: 'å®¿èˆé•¿1', email: 'head1@test.com', role: 'dormHead' },
  student1: { id: 'student-1', name: 'å­¦ç”Ÿ1', email: 'student1@test.com', role: 'student' },
  student2: { id: 'student-2', name: 'å­¦ç”Ÿ2', email: 'student2@test.com', role: 'student' },
  // ... æ›´å¤šæµ‹è¯•ç”¨æˆ·
};

// å®¿èˆæ•°æ®
const testDorms = {
  dormA301: { id: 'dorm-1', name: 'Aæ ‹301', capacity: 4 },
  dormA302: { id: 'dorm-2', name: 'Aæ ‹302', capacity: 6 },
  dormB201: { id: 'dorm-3', name: 'Bæ ‹201', capacity: 5 },
};

// è¿è§„ç±»å‹
const violationTypes = [
  { reason: 'æ™šå½’', score: 3 },
  { reason: 'è¿è§„ä½¿ç”¨ç”µå™¨', score: 5 },
  { reason: 'æ‰“æ¶æ–—æ®´', score: 10 },
  { reason: 'ç ´åå…¬ç‰©', score: 8 },
  { reason: 'å™ªéŸ³æ‰°æ°‘', score: 4 },
];
```

---

## æµ‹è¯•æ‰§è¡Œé¡ºåº

1. **Stage 1 Tests (TC001-TC010)**ï¼šå…ˆæ‰§è¡Œæ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡é€»è¾‘æµ‹è¯•ï¼Œç¡®ä¿åŸºæœ¬åŠŸèƒ½æ­£å¸¸
2. **Stage 2 Permission Tests (TC011-TC015)**ï¼šåœ¨Stage 1å…¨éƒ¨é€šè¿‡åæ‰§è¡Œæƒé™æµ‹è¯•
3. **Stage 2 Business Rule Tests (TC016-TC027)**ï¼šåœ¨Stage 1å…¨éƒ¨é€šè¿‡åæ‰§è¡Œä¸šåŠ¡è§„åˆ™æµ‹è¯•
4. **Complex Scenario Tests (TC028-TC030)**ï¼šæœ€åæ‰§è¡Œå¤æ‚åœºæ™¯æµ‹è¯•

---

## æ³¨æ„äº‹é¡¹

1. **ä¸è¦ç›´æ¥æ“ä½œ storage**ï¼šæ‰€æœ‰æµ‹è¯•å¿…é¡»é€šè¿‡ Interactions è¿›è¡Œ
2. **Stage 1 ä½¿ç”¨æ­£ç¡®çš„æ•°æ®**ï¼šå³ä½¿æƒé™æœªå®æ–½ï¼Œä¹Ÿè¦ä½¿ç”¨æ­£ç¡®çš„è§’è‰²å’Œæœ‰æ•ˆæ•°æ®
3. **ä¿æŒæµ‹è¯•ç‹¬ç«‹æ€§**ï¼šæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹åº”è¯¥ç‹¬ç«‹è¿è¡Œï¼Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•çš„ç»“æœ
4. **æ¸…ç†æµ‹è¯•æ•°æ®**ï¼šæ¯ä¸ªæµ‹è¯•ç»“æŸåæ¸…ç†åˆ›å»ºçš„æ•°æ®ï¼Œé¿å…å½±å“å…¶ä»–æµ‹è¯•
5. **éªŒè¯å®Œæ•´æ€§**ï¼šä¸ä»…éªŒè¯ä¸»è¦ç»“æœï¼Œè¿˜è¦éªŒè¯ç›¸å…³çš„è®¡ç®—å±æ€§å’Œå…³ç³»çŠ¶æ€
