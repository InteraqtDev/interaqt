{
  "totalComputations": 40,
  "implementationOrder": [
    {
      "phase": 1,
      "computations": [
        {
          "id": "User",
          "type": "entity",
          "entityName": "User",
          "computationType": "Transform",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateUser",
            "RegisterUser"
          ],
          "reasoning": "interaction-created with soft-delete, Transform for creation + status StateMachine",
          "calculationMethod": "Independently created by CreateUser (admin) or RegisterUser (self-registration) interactions",
          "completed": false
        },
        {
          "id": "Dormitory",
          "type": "entity",
          "entityName": "Dormitory",
          "computationType": "Transform",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateDormitory"
          ],
          "reasoning": "interaction-created with soft-delete, Transform for creation + status StateMachine",
          "calculationMethod": "Independently created by CreateDormitory interaction",
          "completed": false
        },
        {
          "id": "PointDeduction",
          "type": "entity",
          "entityName": "PointDeduction",
          "computationType": "Transform",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "IssuePointDeduction"
          ],
          "reasoning": "interaction-created with soft-delete, Transform for creation + status StateMachine",
          "calculationMethod": "Independently created by IssuePointDeduction interaction",
          "completed": false
        },
        {
          "id": "RemovalRequest",
          "type": "entity",
          "entityName": "RemovalRequest",
          "computationType": "Transform",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "InitiateRemovalRequest"
          ],
          "reasoning": "interaction-created with soft-delete, Transform for creation + status StateMachine",
          "calculationMethod": "Independently created by InitiateRemovalRequest interaction",
          "completed": false
        }
      ],
      "description": "Phase 1: 4 entity computation(s)"
    },
    {
      "phase": 2,
      "computations": [
        {
          "id": "Bed",
          "type": "entity",
          "entityName": "Bed",
          "computationType": "_parent:Dormitory",
          "dependencies": [
            "Dormitory"
          ],
          "expandedDependencies": [
            "Dormitory"
          ],
          "interactionDependencies": [
            "CreateDormitory"
          ],
          "reasoning": "created-with-parent, created by Dormitory's computation",
          "calculationMethod": "Created together with Dormitory entity by CreateDormitory interaction (creates capacity number of beds)",
          "completed": false
        },
        {
          "id": "UserDormitoryRelation",
          "type": "relation",
          "relationName": "UserDormitoryRelation",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity",
            "User",
            "Dormitory"
          ],
          "expandedDependencies": [
            "InteractionEventEntity",
            "User",
            "Dormitory"
          ],
          "interactionDependencies": [
            "AssignUserToDormitory",
            "RemoveUserFromDormitory",
            "ProcessRemovalRequest"
          ],
          "reasoning": "interaction-created with hard-delete capability, must use StateMachine",
          "calculationMethod": "Created by AssignUserToDormitory, deleted by RemoveUserFromDormitory or approved ProcessRemovalRequest",
          "completed": false
        },
        {
          "id": "DormitoryDormHeadRelation",
          "type": "relation",
          "relationName": "DormitoryDormHeadRelation",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity",
            "Dormitory",
            "User"
          ],
          "expandedDependencies": [
            "InteractionEventEntity",
            "Dormitory",
            "User"
          ],
          "interactionDependencies": [
            "AssignDormHead",
            "RemoveDormHead"
          ],
          "reasoning": "interaction-created with hard-delete capability, must use StateMachine",
          "calculationMethod": "Created by AssignDormHead, deleted by RemoveDormHead",
          "completed": false
        },
        {
          "id": "UserPointDeductionRelation",
          "type": "relation",
          "relationName": "UserPointDeductionRelation",
          "computationType": "_parent:PointDeduction",
          "dependencies": [
            "User",
            "PointDeduction"
          ],
          "expandedDependencies": [
            "User",
            "PointDeduction"
          ],
          "interactionDependencies": [
            "IssuePointDeduction"
          ],
          "reasoning": "created-with-entity, created by PointDeduction's computation",
          "calculationMethod": "Created together with PointDeduction by IssuePointDeduction interaction",
          "completed": false
        },
        {
          "id": "DeductionIssuerRelation",
          "type": "relation",
          "relationName": "DeductionIssuerRelation",
          "computationType": "_parent:PointDeduction",
          "dependencies": [
            "PointDeduction",
            "User"
          ],
          "expandedDependencies": [
            "PointDeduction",
            "User"
          ],
          "interactionDependencies": [
            "IssuePointDeduction"
          ],
          "reasoning": "created-with-entity, created by PointDeduction's computation",
          "calculationMethod": "Created together with PointDeduction by IssuePointDeduction interaction",
          "completed": false
        },
        {
          "id": "RemovalRequestTargetRelation",
          "type": "relation",
          "relationName": "RemovalRequestTargetRelation",
          "computationType": "_parent:RemovalRequest",
          "dependencies": [
            "RemovalRequest",
            "User"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "User"
          ],
          "interactionDependencies": [
            "InitiateRemovalRequest"
          ],
          "reasoning": "created-with-entity, created by RemovalRequest's computation",
          "calculationMethod": "Created together with RemovalRequest by InitiateRemovalRequest interaction",
          "completed": false
        },
        {
          "id": "RemovalRequestInitiatorRelation",
          "type": "relation",
          "relationName": "RemovalRequestInitiatorRelation",
          "computationType": "_parent:RemovalRequest",
          "dependencies": [
            "RemovalRequest",
            "User"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "User"
          ],
          "interactionDependencies": [
            "InitiateRemovalRequest"
          ],
          "reasoning": "created-with-entity, created by RemovalRequest's computation",
          "calculationMethod": "Created together with RemovalRequest by InitiateRemovalRequest interaction",
          "completed": false
        },
        {
          "id": "RemovalRequestAdminRelation",
          "type": "relation",
          "relationName": "RemovalRequestAdminRelation",
          "computationType": "Transform",
          "dependencies": [
            "InteractionEventEntity",
            "RemovalRequest",
            "User"
          ],
          "expandedDependencies": [
            "InteractionEventEntity",
            "RemovalRequest",
            "User"
          ],
          "interactionDependencies": [
            "ProcessRemovalRequest"
          ],
          "reasoning": "interaction-created with no deletion capability",
          "calculationMethod": "Created by ProcessRemovalRequest when admin approves/rejects",
          "completed": false
        },
        {
          "id": "User.name",
          "type": "property",
          "entityName": "User",
          "propertyName": "name",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "User",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateUser",
            "RegisterUser",
            "UpdateUserProfile"
          ],
          "reasoning": "Modified by interactions (CreateUser, RegisterUser, UpdateUserProfile)",
          "calculationMethod": "Direct assignment from interactions",
          "completed": false
        },
        {
          "id": "User.phone",
          "type": "property",
          "entityName": "User",
          "propertyName": "phone",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "User",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateUser",
            "RegisterUser",
            "UpdateUserProfile"
          ],
          "reasoning": "Modified by interactions (CreateUser, RegisterUser, UpdateUserProfile)",
          "calculationMethod": "Direct assignment from interactions",
          "completed": false
        },
        {
          "id": "User.role",
          "type": "property",
          "entityName": "User",
          "propertyName": "role",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "User",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateUser",
            "RegisterUser",
            "AssignDormHead",
            "RemoveDormHead"
          ],
          "reasoning": "Modified by multiple interactions with state transitions",
          "calculationMethod": "Set at creation, can be changed to/from dormHead by admin interactions",
          "completed": false
        },
        {
          "id": "User.status",
          "type": "property",
          "entityName": "User",
          "propertyName": "status",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "User",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateUser",
            "RegisterUser",
            "ProcessRemovalRequest",
            "RemoveUserFromDormitory"
          ],
          "reasoning": "State transitions managed by interactions",
          "calculationMethod": "Set to 'active' at creation, changed to 'removed' when removal request approved, can be set to 'suspended' by admin",
          "completed": false
        },
        {
          "id": "User.updatedAt",
          "type": "property",
          "entityName": "User",
          "propertyName": "updatedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "User",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "UpdateUserProfile",
            "AssignDormHead",
            "RemoveDormHead",
            "ProcessRemovalRequest"
          ],
          "reasoning": "Updated by multiple interactions",
          "calculationMethod": "Updated to current timestamp on any modification",
          "completed": false
        },
        {
          "id": "Dormitory.name",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "name",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Dormitory",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateDormitory",
            "UpdateDormitory"
          ],
          "reasoning": "Modified by interactions (CreateDormitory, UpdateDormitory)",
          "calculationMethod": "Direct assignment from interactions",
          "completed": false
        },
        {
          "id": "Dormitory.floor",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "floor",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Dormitory",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateDormitory",
            "UpdateDormitory"
          ],
          "reasoning": "Modified by interactions",
          "calculationMethod": "Direct assignment from interactions",
          "completed": false
        },
        {
          "id": "Dormitory.building",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "building",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Dormitory",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateDormitory",
            "UpdateDormitory"
          ],
          "reasoning": "Modified by interactions",
          "calculationMethod": "Direct assignment from interactions",
          "completed": false
        },
        {
          "id": "Dormitory.status",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "status",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Dormitory",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "CreateDormitory",
            "DeactivateDormitory"
          ],
          "reasoning": "State transitions managed by interactions",
          "calculationMethod": "Set to 'active' at creation, can be set to 'inactive' by DeactivateDormitory",
          "completed": false
        },
        {
          "id": "Dormitory.updatedAt",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "updatedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Dormitory",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "UpdateDormitory",
            "DeactivateDormitory"
          ],
          "reasoning": "Updated by multiple interactions",
          "calculationMethod": "Updated to current timestamp on any modification",
          "completed": false
        },
        {
          "id": "PointDeduction.status",
          "type": "property",
          "entityName": "PointDeduction",
          "propertyName": "status",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "PointDeduction",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "IssuePointDeduction"
          ],
          "reasoning": "State transitions managed by interactions",
          "calculationMethod": "Set to 'active' at creation, can be changed to 'cancelled' by admin (future: appeal system)",
          "completed": false
        },
        {
          "id": "RemovalRequest.status",
          "type": "property",
          "entityName": "RemovalRequest",
          "propertyName": "status",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "InitiateRemovalRequest",
            "ProcessRemovalRequest",
            "CancelRemovalRequest"
          ],
          "reasoning": "State transitions managed by interactions",
          "calculationMethod": "Set to 'pending' at creation, changed to 'approved'/'rejected' by ProcessRemovalRequest, or 'cancelled' by CancelRemovalRequest",
          "completed": false
        },
        {
          "id": "RemovalRequest.adminComment",
          "type": "property",
          "entityName": "RemovalRequest",
          "propertyName": "adminComment",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "ProcessRemovalRequest"
          ],
          "reasoning": "Modified by interaction",
          "calculationMethod": "Set by ProcessRemovalRequest when approving/rejecting",
          "completed": false
        },
        {
          "id": "RemovalRequest.processedAt",
          "type": "property",
          "entityName": "RemovalRequest",
          "propertyName": "processedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "ProcessRemovalRequest"
          ],
          "reasoning": "Set by interaction when processing",
          "calculationMethod": "Set to current timestamp when ProcessRemovalRequest executes",
          "completed": false
        },
        {
          "id": "RemovalRequest.updatedAt",
          "type": "property",
          "entityName": "RemovalRequest",
          "propertyName": "updatedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "ProcessRemovalRequest",
            "CancelRemovalRequest"
          ],
          "reasoning": "Updated by multiple interactions",
          "calculationMethod": "Updated to current timestamp on any modification",
          "completed": false
        }
      ],
      "description": "Phase 2: 1 entity computation(s), 15 property computation(s), 7 relation computation(s)"
    },
    {
      "phase": 3,
      "computations": [
        {
          "id": "UserBedRelation",
          "type": "relation",
          "relationName": "UserBedRelation",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity",
            "User",
            "Bed"
          ],
          "expandedDependencies": [
            "InteractionEventEntity",
            "User",
            "Bed"
          ],
          "interactionDependencies": [
            "AssignUserToDormitory",
            "RemoveUserFromDormitory",
            "ProcessRemovalRequest"
          ],
          "reasoning": "interaction-created with hard-delete capability, must use StateMachine",
          "calculationMethod": "Created by AssignUserToDormitory, deleted by RemoveUserFromDormitory or approved ProcessRemovalRequest",
          "completed": false
        },
        {
          "id": "DormitoryBedRelation",
          "type": "relation",
          "relationName": "DormitoryBedRelation",
          "computationType": "_parent:Bed",
          "dependencies": [
            "Dormitory",
            "Bed"
          ],
          "expandedDependencies": [
            "Dormitory",
            "Bed"
          ],
          "interactionDependencies": [
            "CreateDormitory"
          ],
          "reasoning": "created-with-entity, created by Bed's computation",
          "calculationMethod": "Created together with Bed entities by CreateDormitory interaction",
          "completed": false
        },
        {
          "id": "User.totalPoints",
          "type": "property",
          "entityName": "User",
          "propertyName": "totalPoints",
          "computationType": "Summation",
          "dependencies": [
            "UserPointDeductionRelation",
            "PointDeduction.points",
            "PointDeduction.status"
          ],
          "expandedDependencies": [
            "User",
            "UserPointDeductionRelation",
            "PointDeduction.points",
            "PointDeduction",
            "PointDeduction.status"
          ],
          "interactionDependencies": [],
          "reasoning": "Aggregation of points from related entities",
          "calculationMethod": "Summation of PointDeduction.points where PointDeduction.status = 'active' across UserPointDeductionRelation",
          "completed": false
        },
        {
          "id": "User.isDormHead",
          "type": "property",
          "entityName": "User",
          "propertyName": "isDormHead",
          "computationType": "Custom",
          "dependencies": [
            "_self.role",
            "DormitoryDormHeadRelation"
          ],
          "expandedDependencies": [
            "User",
            "User.role",
            "DormitoryDormHeadRelation"
          ],
          "interactionDependencies": [],
          "reasoning": "Complex logic combining property and relation existence",
          "calculationMethod": "role === 'dormHead' && exists DormitoryDormHeadRelation where target = this user",
          "completed": false
        },
        {
          "id": "Dormitory.occupancy",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "occupancy",
          "computationType": "Count",
          "dependencies": [
            "UserDormitoryRelation"
          ],
          "expandedDependencies": [
            "Dormitory",
            "UserDormitoryRelation"
          ],
          "interactionDependencies": [],
          "reasoning": "Counting related entities",
          "calculationMethod": "Count of UserDormitoryRelation where target = this dormitory",
          "completed": false
        },
        {
          "id": "Dormitory.hasDormHead",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "hasDormHead",
          "computationType": "Any",
          "dependencies": [
            "DormitoryDormHeadRelation"
          ],
          "expandedDependencies": [
            "Dormitory",
            "DormitoryDormHeadRelation"
          ],
          "interactionDependencies": [],
          "reasoning": "Checking existence of relation",
          "calculationMethod": "exists DormitoryDormHeadRelation where source = this dormitory",
          "completed": false
        },
        {
          "id": "Bed.assignedAt",
          "type": "property",
          "entityName": "Bed",
          "propertyName": "assignedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Bed",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "AssignUserToDormitory"
          ],
          "reasoning": "Modified by interactions",
          "calculationMethod": "Set to current timestamp when user assigned, null when unassigned",
          "completed": false
        },
        {
          "id": "Bed.updatedAt",
          "type": "property",
          "entityName": "Bed",
          "propertyName": "updatedAt",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity"
          ],
          "expandedDependencies": [
            "Bed",
            "InteractionEventEntity"
          ],
          "interactionDependencies": [
            "AssignUserToDormitory",
            "RemoveUserFromDormitory"
          ],
          "reasoning": "Updated by interactions",
          "calculationMethod": "Updated to current timestamp on any modification",
          "completed": false
        }
      ],
      "description": "Phase 3: 6 property computation(s), 2 relation computation(s)"
    },
    {
      "phase": 4,
      "computations": [
        {
          "id": "User.isRemovable",
          "type": "property",
          "entityName": "User",
          "propertyName": "isRemovable",
          "computationType": "computed",
          "dependencies": [
            "_self.totalPoints"
          ],
          "expandedDependencies": [
            "User",
            "User.totalPoints"
          ],
          "interactionDependencies": [],
          "reasoning": "Simple derivation from own property",
          "calculationMethod": "totalPoints >= 30",
          "completed": false
        },
        {
          "id": "Dormitory.availableBeds",
          "type": "property",
          "entityName": "Dormitory",
          "propertyName": "availableBeds",
          "computationType": "computed",
          "dependencies": [
            "_self.capacity",
            "_self.occupancy"
          ],
          "expandedDependencies": [
            "Dormitory",
            "Dormitory.capacity",
            "Dormitory.occupancy"
          ],
          "interactionDependencies": [],
          "reasoning": "Simple calculation from own properties",
          "calculationMethod": "capacity - occupancy",
          "completed": false
        },
        {
          "id": "Bed.status",
          "type": "property",
          "entityName": "Bed",
          "propertyName": "status",
          "computationType": "StateMachine",
          "dependencies": [
            "InteractionEventEntity",
            "UserBedRelation"
          ],
          "expandedDependencies": [
            "Bed",
            "InteractionEventEntity",
            "UserBedRelation"
          ],
          "interactionDependencies": [
            "AssignUserToDormitory",
            "RemoveUserFromDormitory",
            "ProcessRemovalRequest"
          ],
          "reasoning": "Modified by interactions with state transitions",
          "calculationMethod": "Set to 'occupied' when UserBedRelation exists, 'available' when no relation, can be set to 'maintenance' by admin",
          "completed": false
        },
        {
          "id": "RemovalRequest.totalPoints",
          "type": "property",
          "entityName": "RemovalRequest",
          "propertyName": "totalPoints",
          "computationType": "Custom",
          "dependencies": [
            "RemovalRequestTargetRelation",
            "User.totalPoints"
          ],
          "expandedDependencies": [
            "RemovalRequest",
            "RemovalRequestTargetRelation",
            "User.totalPoints",
            "User"
          ],
          "interactionDependencies": [],
          "reasoning": "Requires accessing related user's property at creation",
          "calculationMethod": "Copy of target User.totalPoints at creation time",
          "completed": false
        }
      ],
      "description": "Phase 4: 4 property computation(s)"
    },
    {
      "phase": 5,
      "computations": [
        {
          "id": "Bed.isAvailable",
          "type": "property",
          "entityName": "Bed",
          "propertyName": "isAvailable",
          "computationType": "Custom",
          "dependencies": [
            "_self.status",
            "UserBedRelation"
          ],
          "expandedDependencies": [
            "Bed",
            "Bed.status",
            "UserBedRelation"
          ],
          "interactionDependencies": [],
          "reasoning": "Complex logic combining property and relation existence",
          "calculationMethod": "status === 'available' && !exists UserBedRelation",
          "completed": false
        }
      ],
      "description": "Phase 5: 1 property computation(s)"
    }
  ]
}