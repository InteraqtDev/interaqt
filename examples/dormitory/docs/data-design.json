{
  "analysis_metadata": {
    "timestamp": "2025-09-02 00:00:00",
    "source_documents": [
      "requirements/data-concepts.json",
      "requirements/interactions-design.json"
    ],
    "methodology": "systematic_lifecycle_analysis",
    "version": "1.0.0"
  },
  "entities": {
    "User": {
      "purpose": "System users including students, administrators, and dormitory leaders",
      "dataDependencies": ["BehaviorViolation"],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": []
        },
        "deletion": {
          "canBeDeleted": false,
          "deletionType": "soft-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "name": {
          "type": "string",
          "purpose": "User's full name for identification",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": [],
          "computationMethod": "Set directly on creation",
          "initialValue": "Provided in creation payload"
        },
        "email": {
          "type": "string",
          "purpose": "User's email address for identification and communication",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": [],
          "computationMethod": "Set directly on creation",
          "initialValue": "Provided in creation payload"
        },
        "role": {
          "type": "string",
          "purpose": "User's role in the system (student, administrator, dormitory_leader)",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I301", "I302"],
          "computationMethod": "Set on creation, updated by role assignment interactions",
          "initialValue": "student"
        },
        "status": {
          "type": "string",
          "purpose": "User's current status (active, inactive)",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": [],
          "computationMethod": "Set on creation, can be updated by status change interactions",
          "initialValue": "active"
        },
        "behaviorScore": {
          "type": "number",
          "purpose": "User's cumulative behavior score based on violations",
          "controlType": "independent",
          "dataDependencies": ["BehaviorViolation", "UserViolationRelation"],
          "interactionDependencies": ["I201", "I202"],
          "computationMethod": "Summation: Base score (100) minus sum of all violation score deductions, can be overridden by admin",
          "initialValue": "100"
        },
        "phoneNumber": {
          "type": "string",
          "purpose": "User's contact phone number",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": [],
          "computationMethod": "Set directly on creation if provided",
          "initialValue": "null"
        }
      }
    },
    "Dormitory": {
      "purpose": "Physical dormitory buildings or units",
      "dataDependencies": ["Bed", "UserBedAssignment"],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I101"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "soft-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "name": {
          "type": "string",
          "purpose": "Unique name identifying the dormitory",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set directly from creation payload",
          "initialValue": "Provided in creation payload"
        },
        "location": {
          "type": "string",
          "purpose": "Physical location description of the dormitory",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set directly from creation payload",
          "initialValue": "Provided in creation payload"
        },
        "maxBeds": {
          "type": "number",
          "purpose": "Maximum number of beds in this dormitory",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set from bedCount in creation payload",
          "initialValue": "Provided in creation payload (4-6)"
        },
        "status": {
          "type": "string",
          "purpose": "Current operational status of the dormitory",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set on creation, can be updated by status change interactions",
          "initialValue": "active"
        },
        "currentOccupancy": {
          "type": "number",
          "purpose": "Count of beds that are currently occupied",
          "controlType": "independent",
          "dataDependencies": ["Bed", "UserBedAssignment", "BedDormitory"],
          "interactionDependencies": ["I102", "I103"],
          "computationMethod": "Count of Bed entities where isOccupied = true and BedDormitory links to this dormitory",
          "initialValue": "0"
        },
        "availableBeds": {
          "type": "number",
          "purpose": "Number of unoccupied beds available for assignment",
          "controlType": "independent",
          "dataDependencies": ["maxBeds", "currentOccupancy"],
          "interactionDependencies": [],
          "computationMethod": "Custom: maxBeds minus currentOccupancy",
          "initialValue": "maxBeds value"
        }
      }
    },
    "Bed": {
      "purpose": "Individual bed spaces within dormitories",
      "dataDependencies": ["UserBedAssignment"],
      "computationMethod": "created-with-parent",
      "lifecycle": {
        "creation": {
          "type": "created-with-parent",
          "parent": "Dormitory",
          "creationInteractions": ["I101"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "number": {
          "type": "string",
          "purpose": "Unique identifier for the bed within the dormitory",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Generated uniquely within dormitory during creation",
          "initialValue": "Generated sequence (1, 2, 3, etc.)"
        },
        "isOccupied": {
          "type": "boolean",
          "purpose": "Whether the bed is currently assigned to a user",
          "controlType": "independent",
          "dataDependencies": ["UserBedAssignment"],
          "interactionDependencies": ["I102", "I103"],
          "computationMethod": "Any: True if there exists an active UserBedAssignment for this bed",
          "initialValue": "false"
        },
        "status": {
          "type": "string",
          "purpose": "Current status of the bed (active, maintenance, etc.)",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set on creation, can be updated by status change interactions",
          "initialValue": "active"
        }
      }
    },
    "BehaviorViolation": {
      "purpose": "Records of student behavior violations and score deductions",
      "dataDependencies": [],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I201"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "soft-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "violationType": {
          "type": "string",
          "purpose": "Category of violation from predefined violation rules",
          "controlType": "creation-only",
          "dataDependencies": ["ViolationRules"],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set from payload, validated against ViolationRules dictionary",
          "initialValue": "Provided in creation payload"
        },
        "description": {
          "type": "string",
          "purpose": "Detailed description of the specific violation incident",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set directly from creation payload",
          "initialValue": "Provided in creation payload"
        },
        "scoreDeduction": {
          "type": "number",
          "purpose": "Points deducted from user's behavior score for this violation",
          "controlType": "creation-only",
          "dataDependencies": ["ViolationRules"],
          "interactionDependencies": ["I201"],
          "computationMethod": "Looked up from ViolationRules dictionary based on violationType",
          "initialValue": "Value from ViolationRules dictionary"
        },
        "timestamp": {
          "type": "date",
          "purpose": "When the violation was recorded",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set to current date/time on creation",
          "initialValue": "Current timestamp"
        },
        "evidenceUrl": {
          "type": "string",
          "purpose": "URL or reference to supporting evidence",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set directly from creation payload if provided",
          "initialValue": "null"
        },
        "status": {
          "type": "string",
          "purpose": "Current status of the violation record",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set on creation, can be updated by status change interactions",
          "initialValue": "active"
        }
      }
    },
    "EvictionRequest": {
      "purpose": "Requests to evict users from dormitories",
      "dataDependencies": [],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I401"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "soft-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "reason": {
          "type": "string",
          "purpose": "Detailed justification for the eviction request",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I401"],
          "computationMethod": "Set directly from creation payload",
          "initialValue": "Provided in creation payload"
        },
        "status": {
          "type": "string",
          "purpose": "Current status of the eviction request (pending, approved, rejected)",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I401", "I402"],
          "computationMethod": "Set on creation, updated by processing interactions",
          "initialValue": "pending"
        },
        "requestDate": {
          "type": "date",
          "purpose": "When the eviction request was submitted",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I401"],
          "computationMethod": "Set to current date/time on creation",
          "initialValue": "Current timestamp"
        },
        "decisionDate": {
          "type": "date",
          "purpose": "When the administrator made a decision on the request",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I402"],
          "computationMethod": "Set to current date/time when decision is made",
          "initialValue": "null"
        },
        "adminNotes": {
          "type": "string",
          "purpose": "Administrator's notes and reasoning for the decision",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I402"],
          "computationMethod": "Set from payload when decision is made",
          "initialValue": "null"
        },
        "supportingEvidence": {
          "type": "string",
          "purpose": "URLs or references to supporting evidence for the request",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I401"],
          "computationMethod": "Set directly from creation payload if provided",
          "initialValue": "null"
        }
      }
    }
  },
  "relations": {
    "UserBedAssignment": {
      "type": "many-to-one",
      "purpose": "Links users to their assigned beds",
      "sourceEntity": "User",
      "targetEntity": "Bed",
      "sourceProperty": "userId",
      "targetProperty": "bedId",
      "dataDependencies": ["User", "Bed"],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I102"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "hard-delete",
          "deletionInteractions": ["I103"]
        }
      },
      "properties": {
        "assignmentDate": {
          "type": "date",
          "purpose": "When the user was assigned to this bed",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I102"],
          "computationMethod": "Set to current date/time on creation",
          "initialValue": "Current timestamp"
        },
        "status": {
          "type": "string",
          "purpose": "Current status of the assignment (active, inactive)",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I102", "I103"],
          "computationMethod": "Set on creation, updated by assignment interactions",
          "initialValue": "active"
        },
        "assignedBy": {
          "type": "string",
          "purpose": "ID of the administrator who made the assignment",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I102"],
          "computationMethod": "Set from user context on creation",
          "initialValue": "Current user ID"
        }
      }
    },
    "DormitoryLeadership": {
      "type": "one-to-one",
      "purpose": "Links users to dormitories they lead",
      "sourceEntity": "User",
      "targetEntity": "Dormitory",
      "sourceProperty": "userId",
      "targetProperty": "dormitoryId",
      "dataDependencies": ["User", "Dormitory"],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I301"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "hard-delete",
          "deletionInteractions": ["I302"]
        }
      },
      "properties": {
        "assignmentDate": {
          "type": "date",
          "purpose": "When the user was assigned as dormitory leader",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I301"],
          "computationMethod": "Set to current date/time on creation",
          "initialValue": "Current timestamp"
        },
        "status": {
          "type": "string",
          "purpose": "Current status of the leadership assignment",
          "controlType": "independent",
          "dataDependencies": [],
          "interactionDependencies": ["I301", "I302"],
          "computationMethod": "Set on creation, updated by leadership interactions",
          "initialValue": "active"
        },
        "assignedBy": {
          "type": "string",
          "purpose": "ID of the administrator who made the leadership assignment",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I301"],
          "computationMethod": "Set from user context on creation",
          "initialValue": "Current user ID"
        }
      }
    },
    "BedDormitory": {
      "type": "many-to-one",
      "purpose": "Links beds to their containing dormitory",
      "sourceEntity": "Bed",
      "targetEntity": "Dormitory",
      "sourceProperty": "bedId",
      "targetProperty": "dormitoryId",
      "dataDependencies": ["Bed", "Dormitory"],
      "computationMethod": "created-with-entity",
      "lifecycle": {
        "creation": {
          "type": "created-with-entity",
          "parent": "Bed",
          "creationInteractions": ["I101"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "createdDate": {
          "type": "date",
          "purpose": "When the bed was added to the dormitory",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I101"],
          "computationMethod": "Set to current date/time on creation",
          "initialValue": "Current timestamp"
        }
      }
    },
    "UserViolationRelation": {
      "type": "one-to-many",
      "purpose": "Links users to their behavior violations",
      "sourceEntity": "User",
      "targetEntity": "BehaviorViolation",
      "sourceProperty": "userId",
      "targetProperty": "violationId",
      "dataDependencies": ["User", "BehaviorViolation"],
      "computationMethod": "created-with-entity",
      "lifecycle": {
        "creation": {
          "type": "created-with-entity",
          "parent": "BehaviorViolation",
          "creationInteractions": ["I201"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {}
    },
    "ViolationReporterRelation": {
      "type": "one-to-many",
      "purpose": "Links the user who reported a violation to the violation record",
      "sourceEntity": "User",
      "targetEntity": "BehaviorViolation",
      "sourceProperty": "reporterId",
      "targetProperty": "violationId",
      "dataDependencies": ["User", "BehaviorViolation"],
      "computationMethod": "created-with-entity",
      "lifecycle": {
        "creation": {
          "type": "created-with-entity",
          "parent": "BehaviorViolation",
          "creationInteractions": ["I201"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "reporterRole": {
          "type": "string",
          "purpose": "Role of the user who reported the violation",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I201"],
          "computationMethod": "Set from reporter's role on creation",
          "initialValue": "Current user role"
        }
      }
    },
    "EvictionTargetRelation": {
      "type": "one-to-many",
      "purpose": "Links users who are targets of eviction requests to those requests",
      "sourceEntity": "User",
      "targetEntity": "EvictionRequest",
      "sourceProperty": "targetUserId",
      "targetProperty": "requestId",
      "dataDependencies": ["User", "EvictionRequest"],
      "computationMethod": "created-with-entity",
      "lifecycle": {
        "creation": {
          "type": "created-with-entity",
          "parent": "EvictionRequest",
          "creationInteractions": ["I401"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {}
    },
    "EvictionRequesterRelation": {
      "type": "one-to-many",
      "purpose": "Links users who submit eviction requests to those requests",
      "sourceEntity": "User",
      "targetEntity": "EvictionRequest",
      "sourceProperty": "requesterId",
      "targetProperty": "requestId",
      "dataDependencies": ["User", "EvictionRequest"],
      "computationMethod": "created-with-entity",
      "lifecycle": {
        "creation": {
          "type": "created-with-entity",
          "parent": "EvictionRequest",
          "creationInteractions": ["I401"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "requesterRole": {
          "type": "string",
          "purpose": "Role of the user who submitted the eviction request",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I401"],
          "computationMethod": "Set from requester's role on creation",
          "initialValue": "Current user role"
        }
      }
    },
    "EvictionDeciderRelation": {
      "type": "one-to-many",
      "purpose": "Links administrators who make decisions on eviction requests to those requests",
      "sourceEntity": "User",
      "targetEntity": "EvictionRequest",
      "sourceProperty": "deciderId",
      "targetProperty": "requestId",
      "dataDependencies": ["User", "EvictionRequest"],
      "computationMethod": "interaction-created",
      "lifecycle": {
        "creation": {
          "type": "interaction-created",
          "parent": null,
          "creationInteractions": ["I402"]
        },
        "deletion": {
          "canBeDeleted": true,
          "deletionType": "auto-delete",
          "deletionInteractions": []
        }
      },
      "properties": {
        "decisionRole": {
          "type": "string",
          "purpose": "Role of the administrator who made the decision",
          "controlType": "creation-only",
          "dataDependencies": [],
          "interactionDependencies": ["I402"],
          "computationMethod": "Set from decider's role on creation",
          "initialValue": "Current user role"
        }
      }
    }
  },
  "dictionaries": {
    "SystemConfig": {
      "purpose": "Global system configuration parameters",
      "type": "object",
      "dataDependencies": [],
      "interactionDependencies": [],
      "computationMethod": "Static configuration values loaded at system startup",
      "keys": {
        "evictionScoreThreshold": {
          "type": "number",
          "purpose": "Minimum behavior score required to avoid eviction eligibility",
          "initialValue": "50"
        },
        "maxBedsPerDormitory": {
          "type": "number",
          "purpose": "Maximum number of beds allowed per dormitory",
          "initialValue": "6"
        },
        "minBedsPerDormitory": {
          "type": "number",
          "purpose": "Minimum number of beds required per dormitory",
          "initialValue": "4"
        }
      }
    },
    "ViolationRules": {
      "purpose": "Standard violation types and score deductions",
      "type": "object",
      "dataDependencies": [],
      "interactionDependencies": [],
      "computationMethod": "Static configuration values loaded at system startup",
      "keys": {
        "noiseViolation": {
          "type": "number",
          "purpose": "Score deduction for noise-related violations",
          "initialValue": "10"
        },
        "cleanlinessViolation": {
          "type": "number",
          "purpose": "Score deduction for cleanliness violations",
          "initialValue": "15"
        },
        "guestPolicyViolation": {
          "type": "number",
          "purpose": "Score deduction for unauthorized guest violations",
          "initialValue": "20"
        }
      }
    },
    "SystemStats": {
      "purpose": "System-wide statistics and metrics",
      "type": "object",
      "dataDependencies": ["Bed", "UserBedAssignment", "Dormitory"],
      "interactionDependencies": ["I102", "I103", "I101"],
      "computationMethod": "Computed aggregations updated when related data changes",
      "keys": {
        "totalOccupiedBeds": {
          "type": "number",
          "purpose": "Total number of occupied beds across all dormitories",
          "computationMethod": "Count of Bed entities where isOccupied = true",
          "initialValue": "0"
        },
        "totalAvailableBeds": {
          "type": "number",
          "purpose": "Total number of available beds across all dormitories",
          "computationMethod": "Count of Bed entities where isOccupied = false and status = 'active'",
          "initialValue": "0"
        },
        "activeDormitoriesCount": {
          "type": "number",
          "purpose": "Number of active dormitories in the system",
          "computationMethod": "Count of Dormitory entities where status = 'active'",
          "initialValue": "0"
        }
      }
    }
  }
}